<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mordi Roma Randomizer - Edition Egizia</title>
    <style>
        body {
            margin: 0;
            min-height: 100vh;
            font-family: "Papyrus", "Trebuchet MS", sans-serif;
            text-align: center;
            color: #3b2b1a;
            background: #f2e5c4;
        }
        .papyrus {
            max-width: 900px;
            margin: 20px auto;
            padding: 25px 15px 35px;
            background: #f9f0d2;
            border-radius: 12px;
            border: 3px solid #c8a96b;
            box-shadow: 0 0 0 6px #8b6b32, 0 12px 25px rgba(0,0,0,0.4);
            position: relative;
        }
        .papyrus:before,
        .papyrus:after {
            content: "";
            position: absolute;
            left: 0;
            right: 0;
            height: 14px;
            background: repeating-linear-gradient(
                to right,
                rgba(0,0,0,0.08),
                rgba(0,0,0,0.08) 2px,
                transparent 2px,
                transparent 6px
            );
            opacity: 0.3;
        }
        .papyrus:before { top: 0; }
        .papyrus:after { bottom: 0; }

        #fotoIniziale {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            object-fit: cover;
            border: 6px solid #d8a01b;
            box-shadow: 0 0 0 4px #1034a6, 0 10px 20px rgba(0,0,0,0.5);
            margin-top: 40px;   /* pi√π in basso */
            margin-bottom: 10px;
        }

        h1 {
            font-size: 1.9em;
            margin: 10px 10px 5px;
            text-shadow: 1px 1px 0 #fdf5dd;
        }
        .sub {
            font-size: 0.95em;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #7b5b2a;
        }

        button {
            background: linear-gradient(135deg, #d8a01b, #b57b12);
            color: #22150a;
            border: 2px solid #5b3b10;
            padding: 14px 32px;
            font-size: 1.2em;
            border-radius: 30px;
            cursor: pointer;
            margin: 20px 0 5px;
            box-shadow: 0 6px 0 #5b3b10, 0 10px 18px rgba(0,0,0,0.5);
            text-transform: uppercase;
            letter-spacing: 0.15em;
        }
        button:hover { transform: translateY(-2px); }
        button:active { transform: translateY(2px); box-shadow: 0 3px 0 #5b3b10; }

        .divider {
            margin: 18px auto 5px;
            width: 70%;
            border-top: 2px solid #c8a96b;
            position: relative;
        }
        .divider:before {
            content: "ìÇÄ ìÜ£ ìÖì";
            position: absolute;
            top: -0.9em;
            left: 50%;
            transform: translateX(-50%);
            background: #f9f0d2;
            padding: 0 8px;
            font-size: 1.1em;
        }

        .stanze {
            margin-top: 20px;
        }
        .stanza {
            display: inline-block;
            margin: 10px;
            padding: 18px 14px 22px;
            width: 260px;
            background: #f5e7c3;
            border-radius: 10px;
            border: 2px solid #8b6b32;
            box-shadow: 0 6px 14px rgba(0,0,0,0.3);
        }
        .stanza-titolo {
            font-weight: bold;
            margin-bottom: 8px;
            color: #1034a6;
        }
        .mordi-img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #d8a01b;
            box-shadow: 0 6px 14px rgba(0,0,0,0.4);
            margin-bottom: 6px;
            opacity: 1;
            transition: opacity 0.25s ease-in-out;
        }
        .mordi-img.nascosta {
            opacity: 0;
        }
        .nomi {
            font-size: 1.3em;
            font-weight: bold;
        }
        #risultato { display: none; }

        .footer-note {
            margin-top: 18px;
            font-size: 0.8em;
            color: #7b5b2a;
        }
    </style>
</head>
<body>
    <!-- PAGINA 1: INTRO -->
    <div class="papyrus" id="pagina-intro">
        <img id="fotoIniziale" src="fotoiniziale.jpg" alt="Mordi Roma">
        <h1>Quale Mordi Roma andr√† in camera con Nik e Def?</h1>
        <div class="sub">E quale con Gianluca e Mino, sotto lo sguardo di Ra?</div>

        <button onclick="avviaRandom()">Lancia il destino degli dei</button>
    </div>

    <!-- PAGINA 2: SOLO RANDOMIZZATORE -->
    <div class="papyrus" id="pagina-random" style="display:none;">
        <h1>Il verdetto degli dei</h1>

        <div class="divider"></div>

        <div id="risultato" class="stanze">
            <div class="stanza" id="stanza1">
                <div class="stanza-titolo">üèõ Nik e Def</div>
                <img id="img1" class="mordi-img visibile" src="tomas.jpg" alt="Tomas">
                <div id="nome1" class="nomi">Tomas</div>
            </div>
            <div class="stanza" id="stanza2">
                <div class="stanza-titolo">üèõ Gianluca e Mino</div>
                <img id="img2" class="mordi-img visibile" src="manuel.jpg" alt="Manuel">
                <div id="nome2" class="nomi">Manuel</div>
            </div>
        </div>

        <div class="footer-note">Inciso sulle sabbie di Roma come in una taverna sul Nilo.</div>
    </div>

    <!-- Musica di sottofondo -->
    <audio id="musica" src="musica-egizia.mp3" loop></audio>

    <script>
        const immagini = ["tomas.jpg", "manuel.jpg"];
        const nomi = ["Tomas", "Manuel"];

        function avviaRandom() {
            // cambia "pagina": nasconde intro e mostra randomizzatore
            document.getElementById('pagina-intro').style.display = 'none';
            document.getElementById('pagina-random').style.display = 'block';

            randomizza();
        }

        function randomizza() {
            const audio = document.getElementById('musica');
            if (audio && audio.paused) {
                audio.play().catch(() => {});
            }

            const durataShuffle = 3000;     // 3 secondi
            const intervalloShuffle = 250;  // cambio ogni 250 ms
            let timerShuffle;

            const img1 = document.getElementById('img1');
            const img2 = document.getElementById('img2');
            const nome1 = document.getElementById('nome1');
            const nome2 = document.getElementById('nome2');

            document.getElementById('risultato').style.display = 'block';

            // fase di suspense
            timerShuffle = setInterval(() => {
                img1.classList.add('nascosta');
                img2.classList.add('nascosta');

                setTimeout(() => {
                    const rand1 = Math.floor(Math.random() * 2);
                    const rand2 = 1 - rand1;

                    img1.src = immagini[rand1];
                    img1.alt = nomi[rand1];
                    nome1.textContent = nomi[rand1];

                    img2.src = immagini[rand2];
                    img2.alt = nomi[rand2];
                    nome2.textContent = nomi[rand2];

                    img1.classList.remove('nascosta');
                    img2.classList.remove('nascosta');
                }, 130);
            }, intervalloShuffle);

            // risultato definitivo
            setTimeout(() => {
                clearInterval(timerShuffle);

                const indices = [0, 1];
                for (let i = indices.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [indices[i], indices[j]] = [indices[j], indices[i]];
                }

                img1.classList.add('nascosta');
                img2.classList.add('nascosta');

                setTimeout(() => {
                    img1.src = immagini[indices[0]];
                    img1.alt = nomi[indices[0]];
                    nome1.textContent = nomi[indices[0]];

                    img2.src = immagini[indices[1]];
                    img2.alt = nomi[indices[1]];
                    nome2.textContent = nomi[indices[1]];

                    img1.classList.remove('nascosta');
                    img2.classList.remove('nascosta');
                }, 130);
            }, durataShuffle);
        }
    </script>
</body>
</html>
